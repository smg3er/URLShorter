## Простое приложение для генерации коротких ссылок

На вход длинный урл (longurl)
На выход короткий урл (shorturl)

Короткий урл генерится пока что библиотекой, размер в 6 символов, пример:
"9aAOdv"

символы могут быть из словаря длины 62 :
"abcdefgjijklmnopqrstuvwxyz" + 
"ABCDEFGHIJKLMNOPQRSTUVWXYZ" +
"0123456789"

может содержать уникальных значений:
62^6 = 56 800 235 584

При наличии совпадения, делается еще 1 попытка перегенерить короткий урл с слолью
Итого решение может хранить 2*(56 800 235 584) уникальных коротких урлов

---
Порядок действий:
1. top10milliondomains.zip следует разархивировать
2. Поднять postgreSQL
3. Выполнить sqlPreparing.py
4. Запустить apiServer.py
5. Запустить генератор запросов frontApp.py
----

### TODO
    - Оптимизировать взаимодействие с БД
        - Разделить функции? 
        - Блокировки? 
    - Добавить более полную обработку исключений
    - Поднять компоненты в Docker и протестировать
    - Проанализировать производительность приложения и БД, оптимизировать
        - Попробовать добавить Redis для хранения популярных запросов
    - Написать свою функцию генерацию shortUrl (сейчас использована библиотека hashids)

### Отладочная инфа (удалить потом)

Проверить отсутствие дубликатов (после добавление constraints их не должно быть)
```
select * from urls u where id in (
	select id from urls where longurl in (
			select longurl from (
				select longurl, count(*) as repeat_qty from urls u 
				group by longurl, longurl 
				having count(*)>1)))
```